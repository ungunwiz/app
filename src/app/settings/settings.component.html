<ion-header fullscreen>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Settings</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen>
  <ion-list class="contentList">
    <ion-list-header>
      <ion-label text-wrap> User Interface </ion-label>
    </ion-list-header>
    <ion-item lines="none">
      <ion-label>Follow System Theme</ion-label>
      <ion-toggle slot="end" [(ngModel)]="settings.ui.autoTheme" (ionChange)="saveSettings()">
      </ion-toggle>
    </ion-item>
    <ion-item lines="none" [disabled]="settings.ui.autoTheme">
      <ion-label>Dark Mode</ion-label>
      <ion-toggle slot="end" [(ngModel)]="settings.ui.darkMode" (ionChange)="saveSettings()">
      </ion-toggle>
    </ion-item>
    <ion-item lines="none" *ngIf="devMode">
      <ion-label>Disable Debug Mode</ion-label>
      <ion-icon name="remove-circle-outline" (click)="disableDebugMode()"></ion-icon>
    </ion-item>
  </ion-list>

  <ion-list class="contentList" *ngIf="isApp">
    <ion-list-header>
      <ion-label text-wrap>
        App Update
        <ion-text color="success" *ngIf="updateInfo.updateAvailable">
          - Update available!
        </ion-text>
      </ion-label>
    </ion-list-header>

    <ion-item lines="none">
      <ion-label *ngIf="updateSearching">
        Searching..
      </ion-label>
      <ion-label *ngIf="!updateSearching && updateInfo.updateAvailable">
        Latest release: <ion-text color="tertiary">{{updateInfo.version}}</ion-text>
      </ion-label>
      <ion-label *ngIf="!updateSearching && !updateInfo.updateAvailable">
        Up to Date.
      </ion-label>
      <ion-spinner color="tertiary" slot="end" *ngIf="updateSearching"></ion-spinner>
      <ion-button class="iconButton" slot="end" *ngIf="!updateSearching && !updateInfo.updateAvailable"
        (click)="checkForUpdate()">
        <ion-icon slot="icon-only" name="reload"></ion-icon>
      </ion-button>
      <ion-button class="textButton" slot="end" *ngIf="!updateSearching && updateInfo.updateAvailable"
        (click)="downloadUpdate()">
        Download
      </ion-button>

    </ion-item>
  </ion-list>

  <div class="version" (click)="enableDevMode()">
    <ion-label class="version">
      <span class="appName">{{appName}}</span> v{{appVersion}}
      {{devMode ? '| build ' + appBuild : null }}
    </ion-label>
  </div>
</ion-content>
